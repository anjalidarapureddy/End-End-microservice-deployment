_format_version: "2.1"

services:
  - name: auth-service
    url: http://auth-service:8000
    routes:
      - name: auth-route
        paths: ["/api/auth"]

  - name: user-service
    url: http://user-service:8000
    routes:
      - name: user-route
        paths: ["/api/users"]

  - name: order-service
    url: http://order-service:8000
    routes:
      - name: order-route
        paths: ["/api/orders"]

  - name: payment-service
    url: http://payment-service:8000
    routes:
      - name: payment-route
        paths: ["/api/payments"]

  - name: product-service
    url: http://product-service:8000
    routes:
      - name: product-route
        paths: ["/api/products"]

  - name: notification-service
    url: http://notification-service:8000
    routes:
      - name: notification-route
        paths: ["/api/notifications"]

  - name: analytics-service
    url: http://analytics-service:8000
    routes:
      - name: analytics-route
        paths: ["/api/analytics"]

# Notes:
# - Paths are prefixed with /api to match the cluster Ingress which forwards /api -> api-gateway.
# - Adjust `url` service names/ports to match your service `Service` names in the cluster.
# - Add `strip_path: false` under a route if you need the upstream to receive the full path unchanged.